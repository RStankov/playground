<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
		<title>My take at sortable, event delegation, dynamic item</title>
		<script type="text/javascript" src="js/prototype.js"></script>
		<script type="text/javascript" src="js/delegate.js"></script>
		<style type="text/css">
			#container {
				padding-left: 100px;
			}
			#container h2 {
				font-size: 20px;
			}
			
			#container ul {
				margin: 0;
				padding: 0;
				list-style: none;
			}

			#container li {
				cursor: move;
				margin-bottom: 5px;
				padding: 5px;
				background-color: #F8F8FF;
				border: 1px solid #DEDEDE;
				width: 300px;
			}
			
			#container li:hover {
				background-color: #FFFFFF;
			}
		</style>
	</head>
	<body>
		<div id="container">
			<h2>List 1</h2>
			<ul>
				<li id="item_1">item 1.1</li>
				<li id="item_2">item 1.2</li>
				<li id="item_3">item 1.3</li>
				<li id="item_4">item 1.4</li>
				<li id="item_5">item 1.5</li>
			</ul>
			<a href="javascript:;">serialize</a>
			<h2>List 2</h2>
			<ul>
				<li id="item_6">item 2.1</li>
				<li id="item_7">item 2.2</li>
				<li id="item_8">item 2.3</li>
				<li id="item_9">item 2.4</li>
				<li>item 2.5</li>
			</ul>
			<a href="javascript:;">serialize</a>
			<h2>List 3</h2>
			<ul>
				<li>item 3.1</li>
				<li>item 3.2</li>
				<li>item 3.3</li>
				<li>item 3.4</li>
				<li>item 3.5</li>
			</ul>
			<a href="javascript:;">serialize</a>
		</div>
		<script type="text/javascript" src="js/sortable.js"></script>
		<script type="text/javascript">
			var sortable = new CD3.Dnd.Sortable('container');
			
			$('container').delegate('a', 'click', function(){
				console.log(
					sortable.serialize('items', this.previous('ul'))
				);
			});
			
		</script>
	</body>
</html>
